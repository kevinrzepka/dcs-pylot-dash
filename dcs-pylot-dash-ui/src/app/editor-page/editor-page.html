<!--
Copyright (c) 2025 Kevin Rzepka <kdev@posteo.com>
SPDX-License-Identifier: MIT
License-Filename: LICENSE
-->
<div>
  <div cdkDropListGroup>
    @for (dataPointRow of dataPointRows; track dataPointRow) {
      <p-card>
        <div
          class="data-point-row"
          cdkDropList
          cdkDropListOrientation="horizontal"
          [cdkDropListData]="dataPointRow"
          (cdkDropListDropped)="dataPointDropped($event)"
        >
          @for (dataPoint of dataPointRow.dataPoints; track dataPoint) {
            <app-data-point-editor
              cdkDrag
              [dataPoint]="dataPoint"
              (onDeleteDataPoint)="removeDataPoint(dataPointRow, $event)"
            >
              <p-card class="example-custom-placeholder" *cdkDragPlaceholder></p-card>
            </app-data-point-editor>
          }
          <p-button icon="pi pi-plus" label="Add Data Point" (click)="addDataPoint(dataPointRow)" />
        </div>
      </p-card>
    }
  </div>
  <p-button icon="pi pi-plus" label="Add Row" (click)="addDataPointRow()" />
</div>
